package io.aime.util;

import java.awt.Font;
import java.awt.FontFormatException;
import java.io.IOException;
import java.io.InputStream;
import org.apache.log4j.Logger;

public class Fonts
{

    private static final Logger LOG = Logger.getLogger(Fonts.class.getName());
    public static final Fonts _INSTANCE = new Fonts();
    private final int SIZE = 12;
    private Font defaultPlain;
    private Font defaultBold;

    private Fonts()
    {
        InputStream s1 = null;
        InputStream s2 = null;
        try
        {
            s1 = Fonts.class.getResourceAsStream("/resources/fonts/Roboto-Regular.ttf");
            s2 = Fonts.class.getResourceAsStream("/resources/fonts/Roboto-Bold.ttf");

            defaultPlain = Font.createFont(Font.TRUETYPE_FONT, s1);
            defaultBold = Font.createFont(Font.TRUETYPE_FONT, s2);
        }
        catch (FontFormatException | IOException e)
        {
            LOG.error("Can't access application's fonts. Error: " + e.toString(), e);
            defaultPlain = new Font("Dialog", Font.TRUETYPE_FONT, SIZE);
            defaultBold = new Font("Dialog", Font.BOLD, SIZE);
        }
        finally
        {
            try
            {
                if (s1 != null)
                {
                    s1.close();
                }
                if (s2 != null)
                {
                    s2.close();
                }
            }
            catch (IOException ex)
            {
                LOG.error("Can't close stream. Error: " + ex.toString(), ex);
            }
        }
    }

    public Font getDefaultPlain()
    {
        return defaultPlain.deriveFont((float) SIZE);
    }

    public Font getDefaultBold()
    {
        return defaultBold.deriveFont((float) SIZE).deriveFont(Font.BOLD);
    }

    public Font getDefaultBold(int size)
    {
        return defaultBold.deriveFont((float) size).deriveFont(Font.BOLD);
    }
}
