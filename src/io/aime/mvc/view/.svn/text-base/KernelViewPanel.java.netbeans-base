package io.aime.mvc.view;

// AIME
import io.aime.mvc.controller.KernelController;
import io.aime.mvc.model.KernelIndexServerTableModel;
import io.aime.mvc.model.KernelSegmentServerTableModel;

// AWT
import java.awt.Component;
import java.awt.GridLayout;

// Beans
import java.beans.PropertyChangeEvent;

// Swing
import javax.swing.BorderFactory;
import javax.swing.BoxLayout;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.SwingConstants;
import javax.swing.table.TableCellRenderer;

public class KernelViewPanel extends AbstractViewPanel {

    private KernelController controller;
    private KernelIndexServerTableModel model1;
    private KernelSegmentServerTableModel model2;

    public KernelViewPanel(KernelController controller) {
        this.controller = controller;
        model1 = (KernelIndexServerTableModel) controller.getTableModel(KernelController.KERNEL_INDEX_SERVER_TABLE_MODEL);
        model2 = (KernelSegmentServerTableModel) controller.getTableModel(KernelController.KERNEL_SEGMENT_SERVER_TABLE_MODEL);
        initComponents();
        indexServerStatsTable.setModel(model1);
        indexServerStatsTable.setDefaultRenderer(JLabel.class, new TableCellRenderer() {
            @Override
            public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {
                JLabel label = new JLabel();
                label.setBorder(BorderFactory.createEmptyBorder(4, 4, 4, 4));
                label.setText(value.toString());

                if (column == model1.VALUE_COLUMN_ID) {
                    label.setHorizontalAlignment(SwingConstants.CENTER);
                }

                return label;
            }
        });
        segmentServerStatsTable.setModel(model2);
        segmentServerStatsTable.setDefaultRenderer(JLabel.class, new TableCellRenderer() {
            @Override
            public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {
                JLabel label = new JLabel();
                label.setBorder(BorderFactory.createEmptyBorder(4, 4, 4, 4));
                label.setText(value.toString());

                if (column == model2.VALUE_COLUMN_ID) {
                    label.setHorizontalAlignment(SwingConstants.CENTER);
                }

                return label;
            }
        });
    }

    @Override
    public void modelPropertyChange(PropertyChangeEvent evt) {
        throw new UnsupportedOperationException("Not supported yet.");
    }

    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        tablePanel = new JPanel();
        indexServerStatsPanel = new JPanel();
        indexServerStatsScrollPane = new JScrollPane();
        indexServerStatsTable = new JTable();
        segmentServerStatsPanel = new JPanel();
        segmentServerStatsScrollPane = new JScrollPane();
        segmentServerStatsTable = new JTable();

        setName("Form"); // NOI18N
        setLayout(new GridLayout(1, 1));

        tablePanel.setName("tablePanel"); // NOI18N
        tablePanel.setLayout(new GridLayout(2, 1));

        indexServerStatsPanel.setBorder(BorderFactory.createTitledBorder("IndexServer Stats"));
        indexServerStatsPanel.setName("indexServerStatsPanel"); // NOI18N
        indexServerStatsPanel.setLayout(new BoxLayout(indexServerStatsPanel, BoxLayout.LINE_AXIS));

        indexServerStatsScrollPane.setName("indexServerStatsScrollPane"); // NOI18N

        indexServerStatsTable.setName("indexServerStatsTable"); // NOI18N
        indexServerStatsScrollPane.setViewportView(indexServerStatsTable);

        indexServerStatsPanel.add(indexServerStatsScrollPane);

        tablePanel.add(indexServerStatsPanel);

        segmentServerStatsPanel.setBorder(BorderFactory.createTitledBorder("SegmentServer Stats"));
        segmentServerStatsPanel.setName("segmentServerStatsPanel"); // NOI18N
        segmentServerStatsPanel.setLayout(new BoxLayout(segmentServerStatsPanel, BoxLayout.LINE_AXIS));

        segmentServerStatsScrollPane.setName("segmentServerStatsScrollPane"); // NOI18N

        segmentServerStatsTable.setName("segmentServerStatsTable"); // NOI18N
        segmentServerStatsScrollPane.setViewportView(segmentServerStatsTable);

        segmentServerStatsPanel.add(segmentServerStatsScrollPane);

        tablePanel.add(segmentServerStatsPanel);

        add(tablePanel);
    }// </editor-fold>//GEN-END:initComponents
    // Variables declaration - do not modify//GEN-BEGIN:variables
    public JPanel indexServerStatsPanel;
    public JScrollPane indexServerStatsScrollPane;
    public JTable indexServerStatsTable;
    public JPanel segmentServerStatsPanel;
    public JScrollPane segmentServerStatsScrollPane;
    public JTable segmentServerStatsTable;
    public JPanel tablePanel;
    // End of variables declaration//GEN-END:variables
}
